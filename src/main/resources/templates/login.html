<!DOCTYPE HTML>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>lishuang community</title>
    <!-- Required meta tags-->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/my-information.css">

</head>
<body>
<div th:insert="~{navigation :: nav}"></div>
<div class="container-fluid" >
    <div class="login-container">
        <div class="login-text" >
            <h1>欢迎来到中文姓名保留格式加密系统</h1>
        </div>
        <div class="login-form">
            <form class="form-signin" action="/login" method="post" onsubmit="return checkLogin();">
                <label for="inputEmail" class="sr-only">Email address</label>
                <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
                <label for="inputPassword" class="sr-only">Password</label>
                <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
                <div class="checkbox">
                    <label>
                        <input type="checkbox" value="remember-me"> Remember me
                    </label>
                </div>
                <button type="submit" class="btn btn-success" style="width: 70px;float: right">登录</button>
                <button type="button" class="btn btn-default" style="width:70px; margin-right: 30px; float: right">
                    <a href="/sign_up" class="myBack" style="text-decoration:none; color: #4cae4c">注册</a>
                </button>
                <div class="login-bottom">
                    <div class="msg"  style="display:none;" >
                        <span class="icon-err"></span>
                        <span id="message"></span>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
    // onsubmit值为true时，提交表单，否则显示错误信息
    // 生成用户名+密码组合的md5值，并设置传给后端的密码为该md5值
    function checkLogin() {
        var name = $("#username").val().toLowerCase();
        var pwd = $("#password").val().toLowerCase();
        if(name.trim()=="" || pwd.trim()=="") {
            $("#message").text("请输入用户名和密码");
            $('.msg').show();
            return false;
        }else {
            $('.msg').hide();
        }

        var md5info = name + pwd;
        $('#hidePwd').val(md5(md5info));
        //$("#password").val();
        return true;
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.bootcss.com/blueimp-md5/2.11.1/js/md5.min.js"></script>
</body>
</html>